!function(){var e=window.location.host,t=window.location.href;if("pan.baidu.com"==e){var n={get_baidu_code:function(){for(var e=document.getElementsByTagName("a"),n=0;n<e.length;n++){var a=e[n].getAttribute("class");-1!=a.indexOf("g-button")&&a.indexOf("g-button-blue-large")&&e[n].addEventListener("click",function(){for(var e=document.getElementsByTagName("input"),n="****",a=0;a<e.length;a++){var r=e[a].getAttribute("tabindex"),i=e[a].getAttribute("type");1!=r&&"1"!=r||"text"!=i&&"TEXT"!=i||(n=e[a].value)||(n="****")}chrome.runtime.sendMessage({origin:"pickup-code-url",initUrl:t,code:n,time:(new Date).getTime()},function(e){})},!1)}},getElementsByClass:function(e,t){var n=[];try{for(var a=e.getElementsByTagName("*"),r=0;r<a.length;r++)a[r].className==t&&n.push(a[r])}catch(e){console.log("quzhuanpan tampermonkey scprit exception for getElementsByClass。。。"+e.message)}return n},get_baidu_share:function(){var e=document.getElementById("shareqr");if(e)var a="",r=0,i=setInterval(function(){var l=n.getElementsByClass(e,"filename");if(r++,0!=l.length){clearInterval(i),a=l[0].getAttribute("title");for(var c,o=document.getElementsByTagName("script"),g=o.length,s="",u=0;u<g;u++)(c=o[u].innerText)&&(s+=c=(c=(c=(c=(c=(c=c.replace(/\t/g,"")).replace(/\r/g,"")).replace(/\n/g,"")).replace(/\+/g,"%2B")).replace(/\&/g,"%26")).replace(/\#/g,"%23"));chrome.runtime.sendMessage({origin:"resouorce-url",fileName:a,url:t,scripts:s},function(e){})}else clearInterval(i);r>=5&&clearInterval(i)},700)}};-1!=t.indexOf("pan.baidu.com/share/init")?n.get_baidu_code():-1!=t.indexOf("pan.baidu.com/s/")&&n.get_baidu_share()}}();